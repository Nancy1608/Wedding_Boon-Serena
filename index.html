<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>
  <meta charset="UTF-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wedding Guest List</title>


  <style>
body { font-family: Arial, sans-serif; background: #fff; margin: 0; padding: 0; }
.container { padding: 10px; max-width: 1000px; margin: auto; }
.filters-row { display: flex; gap: 10px; flex-wrap: wrap; align-items: center; margin-bottom: 8px; }
button { padding: 8px 12px; border: none; cursor: pointer; border-radius: 4px; }
.arrived-btn { background: #4CAF50; color: white; }
.pending-btn { background: #DAA520; color: black; }
.clear-btn { background: red; color: white; border-radius: 50%; padding: 0 6px; cursor: pointer; font-weight: bold; }
table { border-collapse: collapse; width: 100%; }
th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
th { background-color: #f2f2f2; }
.card { border: 1px solid #ddd; border-radius: 8px; padding: 10px; margin-bottom: 10px; }
@media (max-width: 768px) {
table { display: none; }
.card { display: block; }
.filters-row { flex-direction: row; }
}
@media (min-width: 769px) {
.card { display: none; }
}
  </style>
</head><body>
<div class="container">
<div class="filters-row">
    <button onclick="filterGuests('all')">All</button>
    <button onclick="filterGuests('arrived')">Arrived</button>
    <button onclick="filterGuests('pending')">Pending</button>
    
</div>
<div class="filters-row">
    <input id="search" placeholder="Search by guest or table..." oninput="searchGuests()" type="text">
    <span class="clear-btn" onclick="clearSearch()">×</span>
    <button onclick="revertAll()">Revert All</button>
</div>
<table id="guestTable">
<thead>
<tr>
<th>Table No</th>
<th>Guest Name</th>
<th>Pax</th>
<th>Status</th>
</tr>
</thead>
<tbody></tbody>
</table>

</div>

<script>
let guests = [
  [11, 2, "Mr & Mrs Choong Chilun"],
  [11, 1, "Alvin Yeo"],
  [11, 1, "Tan Sook Yee"],
  [11, 2, "Liew Shwu Jiun"],
  [11, 2, "Yarlini & Spouse"],
  [11, 1, "Lam Onn Yi"],
  [11, 1, "Chong Yuen Xin"],
  [8, 2, "Ming Ming & Spouse"],
  [8, 2, "Lee Kah Yee & Spouse"],
  [8, 1, "Ming Ming&#8217;s Aunty"],
  [8, 1, "Mrs Lim Tua Lek"],
  [8, 3, "Nicole Yap & Family"],
  [5, 2, "Mr & Mrs Soon Chin Hoon"],
  [5, 2, "Ong Ting Ting & Spouse"],
  [5, 2, "Mr & Mrs Jesse Jee"],
  [5, 2, "Mr & Mrs Loh Hoi Yew"],
  [5, 1, "Mdm Isabelle Fam"],
  [2, 1, "Kian Mun"],
  [2, 1, "Amy"],
  [2, 3, "Benny & Family"],
  [2, 4, "Victor & Family"],
  [12, 1, "Gurdeu"],
  [12, 4, "Jasvin, Annish & Family"],
  [12, 3, "Sukhvinder & Family"],
  [12, 2, "Dato&#8217; & Datin Jesbil"],
  [9, 1, "Ricky Chan"],
  [9, 2, "Liew Li Fong & Spouse"],
  [9, 2, "Tan Ai Tiang & Spouse"],
  [9, 1, "Kevin Lau"],
  [9, 2, "Mr & Mrs Wong Yok Heng"],
  [9, 1, "Mr Sunny Phang"],
  [6, 10, "Seah Kiat Seng & Family"],
  [3, 3, "Lay Weng & Family"],
  [3, 6, "Carmen & Family"],
  [3, 1, "Nancy"],
  [13, 2, "Mr & Mrs Loh Weng Cheong"],
  [13, 2, "Mr & Mrs Goh Keat Hoe"],
  [13, 2, "Mr & Mrs Eric Woh Pei Su"],
  [13, 2, "Mr & Mrs Francis Wong"],
  [13, 1, "Lim Hong Guan"],
  [13, 1, "Ang Sing Hai"],
  [10, 1, "Ms Eng Hui Mun"],
  [10, 1, "Ms Tan Yoke Lan"],
  [10, 2, "Mr & Mrs Ng Kim Siah"],
  [10, 2, "Mr & Mrs Yap Meow Sing"],
  [10, 2, "Mr & Mrs Lim Tow Poe"],
  [10, 2, "Mr & Mrs Lee Peng Koon"],
  [7, 1, "Ms Soo Kah Huey"],
  [7, 2, "Dato&#8217; & Datin Soo Kah Eng"],
  [7, 2, "Dato&#8217; & Datin Lew Wai Koung"],
  [7, 1, "Datin Toh Bee Huan"],
  [7, 2, "Mr & Mrs Soo Hock Chuan"],
  [7, 1, "Mdm Lau Yoke Eng"],
  [4, 4, "Shirley & Family"],
  [4, 1, "Annie"],
  [4, 1, "Ruby"],
  [4, 2, "Amy Tiew & Ah Ngoh"],
  [4, 2, "Mr & Mrs Sunny Tiew"]
];

guests.sort((a,b) => (a[0]-b[0]) || a[2].localeCompare(b[2]));
let statusMap = JSON.parse(localStorage.getItem('guestStatus')) || {};
let currentFilter = 'all';
function saveStatus() { localStorage.setItem('guestStatus', JSON.stringify(statusMap)); }
function updateDisplay() {
    const tbody = document.querySelector('#guestTable tbody');
    const cardsContainer = document.getElementById('guestCards');
    tbody.innerHTML = '';
    cardsContainer.innerHTML = '';
    const searchTerm = document.getElementById('search').value.toLowerCase();
    const filtered = guests.filter(g => {
        const name = g[2];
        const status = statusMap[name] || 'pending';
        const matchesSearch = !searchTerm ||
            name.toLowerCase().includes(searchTerm) ||
            String(g[0]).includes(searchTerm);
        const matchesFilter = (currentFilter === 'all') || (currentFilter === status);
        return matchesSearch && matchesFilter;
    });
    const totalPax = filtered.reduce((sum, g) => sum + Number(g[1]), 0);
    document.getElementById('totalPax').innerText = 'Total Pax: ' + totalPax;
    filtered.forEach(g => {
        const [tableNo, pax, name] = g;
        const status = statusMap[name] || 'pending';
        const btnClass = (status === 'arrived') ? 'arrived-btn' : 'pending-btn';
        const btnLabel = (status === 'arrived') ? 'Arrived' : 'Pending';
        tbody.innerHTML += `<tr><td>${tableNo}</td><td>${name}</td><td>${pax}</td><td><button class="${btnClass}" onclick="toggleStatus('${name.replace(/'/g, "\\'")}')">${btnLabel}</button></td></tr>`;
        cardsContainer.innerHTML += `<div class="card"><strong>Table:</strong> ${tableNo}<br><strong>Name:</strong> ${name} (Pax: ${pax})<br><button class="${btnClass}" onclick="toggleStatus('${name.replace(/'/g, "\\'")}')">${btnLabel}</button></div>`;
    });
}
function filterGuests(f) { currentFilter = f; updateDisplay(); }
function toggleStatus(name) { statusMap[name] = (statusMap[name] === 'arrived') ? 'pending' : 'arrived'; saveStatus(); updateDisplay(); }
function revertAll() { statusMap = {}; saveStatus(); updateDisplay(); }
function searchGuests() { updateDisplay(); }
function clearSearch() { document.getElementById('search').value = ''; updateDisplay(); }
updateDisplay();
</script>
</body></html>